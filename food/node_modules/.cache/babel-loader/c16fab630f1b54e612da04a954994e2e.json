{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\Agile\\\\food\\\\src\\\\Container\\\\User_dahboard\\\\vieworder.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ViewOrder extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleViewOrder = orderId => {\n      this.setState({\n        modal: !this.state.modal,\n        orderDate: orderId\n      });\n      Axios.get(`http://localhost:90/order/${orderId}`, this.state.config).then(response => {\n        const data = response.data;\n        this.setState({\n          viewOrder: data\n        });\n        console.log(this.state.viewOrder);\n      }).catch(err => console.log(err.response));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      user: '',\n      modal: false,\n      food: '',\n      quanity: '',\n      orderDate: '',\n      totprice: '',\n      totAmt: 0,\n      orders: [],\n      viewOrder: [],\n      config: {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  componentDidMount() {\n    Axios.get('http://localhost:90/order', this.state.config).then(response => {\n      const data = response.data;\n      this.setState({\n        orders: data\n      });\n      console.log(data);\n    }).catch(err => console.log(err.response));\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    this.state.totAmt = this.state.viewOrder.reduce((prevValue, currentValue) => prevValue + currentValue.food.price * currentValue.quanity, 0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            class: \"h4\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ordered date & time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"View Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.orders.map(order => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: order._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn btn-primary\",\n                  onClick: () => this.handleViewOrder(order._id),\n                  children: \"View Invoice\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 27\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 23\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"md\",\n        isOpen: this.state.modal,\n        modalTransition: {\n          timeout: 200\n        },\n        backdropTransition: {\n          timeout: 300\n        },\n        toggle: this.toggle,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.toggle,\n          style: {\n            color: '#1f618d',\n            backgroundColor: '#F4F6F6'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          className: \"printDiv\",\n          style: {\n            backgroundColor: '#F8F9F9'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"billHeader\",\n            children: \"Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Ordered Date : \", /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"h6\",\n              children: [\" \", this.state.orderDate, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Name : \", /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"h6\",\n              children: [\" \", localStorage.getItem('fullname'), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Food Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.viewOrder.map(listItem => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: listItem.food.foodname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: listItem.quanity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: listItem.food.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: listItem.food.price * listItem.quanity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 31\n                  }, this)]\n                }, listItem._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 29\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"4\",\n                  align: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      color: '#34495E'\n                    },\n                    children: [\"Total Amount: Rs \", this.state.totAmt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          style: {\n            backgroundColor: '#F4F6F6'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            onClick: this.toggle,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Dell/Downloads/Agile/food/src/Container/User_dahboard/vieworder.js"],"names":["React","Component","Table","Button","Modal","ModalHeader","ModalBody","ModalFooter","Axios","ViewOrder","constructor","props","handleViewOrder","orderId","setState","modal","state","orderDate","get","config","then","response","data","viewOrder","console","log","catch","err","handleChange","e","target","name","value","user","food","quanity","totprice","totAmt","orders","headers","localStorage","getItem","toggle","bind","componentDidMount","render","reduce","prevValue","currentValue","price","map","order","_id","timeout","color","backgroundColor","listItem","foodname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport Axios from 'axios';\r\n\r\n\r\nexport default class ViewOrder extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            user : '',\r\n            modal:false,\r\n            food : '',\r\n            quanity : '',\r\n            orderDate:'',\r\n            totprice: '',\r\n            totAmt:0,\r\n            orders: [],\r\n            viewOrder:[],\r\n            config: {\r\n                headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\r\n            }\r\n        }\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n      Axios.get('http://localhost:90/order',this.state.config)\r\n        .then((response)=>{\r\n          const data = response.data;\r\n          this.setState({\r\n          orders: data\r\n          });\r\n          console.log(data);\r\n        }).catch((err) => console.log(err.response));\r\n    }\r\n\r\n    toggle() {\r\n      this.setState({\r\n        modal: !this.state.modal\r\n      })\r\n    }\r\n\r\n    handleViewOrder=(orderId)=>{\r\n      this.setState({\r\n        modal: !this.state.modal,\r\n        orderDate:orderId\r\n      })\r\n      Axios.get(`http://localhost:90/order/${orderId}`, this.state.config)\r\n        .then((response)=>{\r\n          const data = response.data;\r\n          this.setState({viewOrder:data});\r\n          console.log(this.state.viewOrder);\r\n        }).catch((err)=>console.log(err.response));\r\n    }\r\n\r\n    handleChange = (e) => {\r\n      this.setState({\r\n          [e.target.name]: e.target.value\r\n      })\r\n    }\r\n    \r\n    render() {\r\n      this.state.totAmt = this.state.viewOrder.reduce(\r\n        (prevValue, currentValue) => prevValue + currentValue.food.price*currentValue.quanity,0);\r\n        return (\r\n            <div>\r\n   \r\n              <Table hover>\r\n                <thead>\r\n                  <tr class='h4'>\r\n                    <th>Ordered date & time</th>\r\n                    <th>View Order</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                  this.state.orders.map(order => {\r\n                    return(\r\n                      <tr key={order._id}>\r\n                          <td>\r\n                          <h5>{order._id}</h5>\r\n                          </td>\r\n                          <td><button type=\"button\" class=\"btn btn-primary\"\r\n                          onClick={() => this.handleViewOrder(order._id)}>View Invoice</button></td>\r\n                      </tr>\r\n                    )})\r\n                  }\r\n                </tbody>\r\n              </Table>\r\n\r\n              <Modal size=\"md\" isOpen={this.state.modal} modalTransition={{ timeout: 200 }} backdropTransition={{ timeout: 300 }}\r\n                toggle={this.toggle}>\r\n                <ModalHeader toggle={this.toggle} style={{color:'#1f618d', backgroundColor:'#F4F6F6'}}>\r\n                  <h3>Food</h3>\r\n                </ModalHeader>\r\n                <ModalBody className=\"printDiv\" style={{backgroundColor:'#F8F9F9'}}>\r\n                  <h3 className=\"billHeader\">Food</h3>\r\n                  <h5>Ordered Date : <span class=\"h6\"> {this.state.orderDate} </span></h5>\r\n                  <h5>Name : <span class=\"h6\"> {localStorage.getItem('fullname')} </span></h5>\r\n                  <Table>\r\n                    <thead>\r\n                    <tr>\r\n                        \r\n                      <th>Food Name</th>\r\n                      <th>Quantity</th>\r\n                      <th>Price</th>\r\n                      <th>Total Price</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {\r\n                        this.state.viewOrder.map(listItem=>{\r\n                          return(\r\n                            <tr key={listItem._id}>\r\n                               \r\n                              <td>{listItem.food.foodname}</td>\r\n                              <td>{listItem.quanity}</td>\r\n                              <td>{listItem.food.price}</td>\r\n                              <td>{listItem.food.price*listItem.quanity}</td>\r\n                            </tr>\r\n                          )\r\n                        })\r\n                      }\r\n                    </tbody>\r\n                    <tfoot>\r\n                      <tr>\r\n                        <td colSpan=\"4\" align=\"right\">\r\n                          <h4 style={{color:'#34495E'}}>Total Amount: Rs {this.state.totAmt}</h4>\r\n                        </td>\r\n                      </tr>\r\n                    </tfoot>\r\n                  </Table>\r\n                </ModalBody>\r\n                <ModalFooter style={{backgroundColor:'#F4F6F6'}}>\r\n                  <Button color=\"secondary\" onClick={this.toggle}>Close</Button>\r\n                </ModalFooter>\r\n              </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}