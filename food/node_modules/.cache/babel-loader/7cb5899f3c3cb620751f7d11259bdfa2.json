{"ast":null,"code":"import _defineProperty from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Modal,ModalHeader,ModalBody,ModalFooter,Container}from'reactstrap';import'./popular.css';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Popular=/*#__PURE__*/function(_Component){_inherits(Popular,_Component);var _super=_createSuper(Popular);function Popular(props){var _this;_classCallCheck(this,Popular);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleFood=function(foodId){// if(localStorage.length===0) {\n//   alert(\"Please login first...\")\n// }\n// else{\n_this.setState({modal:!_this.state.modal});Axios.get(\"http://localhost:90/foods/\".concat(foodId),_this.state.config).then(function(response){var data=response.data;_this.setState({food:data,totalprice:data.price});console.log(\"data fecth\");}).catch(function(error){return console.log(error.response);});// }\n};_this.state={foodname:'',foodimage:'',food:[],notes:'',quantity:'1',popular:[],totalprice:'',modal:false,config:{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));return _this;}_createClass(Popular,[{key:\"toggle\",value:function toggle(){this.setState({modal:!this.state.modal});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('http://localhost:90/foods',this.state.config).then(function(response){var data=response.data;_this2.setState({popular:data});console.log(\"data fecth\");}).catch(function(error){return console.log(error.response);});}},{key:\"addCart\",value:function addCart(){var _this3=this;// if(this.state.quantity<1){\n//   alert(\"Please Enter a valid quantity\")\n// }\n// else{\n//   if(localStorage.getItem('token'!=null)){\nAxios.post(\"http://localhost:90/cart/\",{food:this.state.food._id,totalprice:this.state.totalprice*this.state.quantity,notes:this.state.notes,quanity:this.state.quantity},this.state.config).then(function(response){console.log(response);_this3.setState({modal:!_this3.state.modal});}).catch(function(err){return console.log(err.response);});//   }\n//   else{\n//     alert(\"Please login to add cart\");\n//   }\n// }\n}},{key:\"render\",value:function render(){var _this4=this,_jsx2;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'OldLace'},className:\"container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h3\",style:{color:'DarkOrange'},children:\"ITEMS FOR YOU\"}),/*#__PURE__*/_jsx(Row,{children:this.state.popular.map(function(pop){return/*#__PURE__*/_jsx(\"div\",{className:\"Col-md-4\",id:\"product\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"card card-product p-2\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"foodPic\",width:\"250\",height:\"150\",src:\"http://localhost:90/pictures/\".concat(pop.foodimage)}),/*#__PURE__*/_jsxs(\"figcaption\",{className:\"info-wrap\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"title\",children:pop.foodname}),/*#__PURE__*/_jsxs(\"h6\",{className:\"title\",children:[\"Rs. \",pop.price]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return _this4.handleFood(pop._id);},children:\"Add to cart\"})]})},pop._id);})}),/*#__PURE__*/_jsx(Modal,{isOpen:this.state.modal,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(ModalHeader,{toggle:this.toggle,children:[\"Item : \",this.state.food.foodname,/*#__PURE__*/_jsx(\"br\",{}),\"Price : Rs.\",this.state.food.price]}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Add notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",className:\"col-md-10\",value:this.state.notes,placeholder:\"Customize food as your taste\",name:\"notes\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Add quantity\"}),/*#__PURE__*/_jsx(\"input\",(_jsx2={type:\"number\",pattern:\"[0-9]*\",name:\"quantity\",min:1,value:this.state.quantity,onChange:this.handleChange},_defineProperty(_jsx2,\"min\",\"1\"),_defineProperty(_jsx2,\"max\",\"100\"),_jsx2))]}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Container,{id:\"ftr\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-lg btn-success\",id:\"btnbag\",onClick:function onClick(){return _this4.addCart(_this4.state.food._id);},children:\"Add to cart\"})})})]})})]});}}]);return Popular;}(Component);export{Popular as default};","map":{"version":3,"sources":["C:/Users/Dell/Downloads/Agile/food/src/Container/User_dahboard/popular.js"],"names":["React","Component","Row","Modal","ModalHeader","ModalBody","ModalFooter","Container","Axios","Popular","props","handleChange","e","setState","target","name","value","handleFood","foodId","modal","state","get","config","then","response","data","food","totalprice","price","console","log","catch","error","foodname","foodimage","notes","quantity","popular","headers","localStorage","getItem","toggle","bind","post","_id","quanity","err","backgroundColor","color","map","pop","addCart"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, Container } from 'reactstrap'\r\nimport './popular.css'\r\nimport Axios from 'axios'\r\n\r\nexport default class Popular extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      foodname: '',\r\n      foodimage: '',\r\n      food:[],\r\n      notes:'',\r\n      quantity:'1',\r\n      popular: [],\r\n      totalprice:'',\r\n      modal:false,\r\n      config: {\r\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\r\n      },\r\n    }\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle(){\r\n    this.setState({\r\n      modal:!this.state.modal\r\n    })\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n        [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    Axios.get('http://localhost:90/foods',this.state.config)\r\n    .then((response)=>{\r\n      const data = response.data;\r\n      this.setState({popular:  data});\r\n      console.log(\"data fecth\");\r\n     \r\n    }).catch(error => console.log(error.response));\r\n  }\r\n\r\n  handleFood = (foodId) => {\r\n    // if(localStorage.length===0) {\r\n    //   alert(\"Please login first...\")\r\n    // }\r\n    // else{\r\n    this.setState({\r\n      modal: !this.state.modal\r\n\r\n    })\r\n    Axios.get(`http://localhost:90/foods/${foodId}`, this.state.config)\r\n      .then((response) => {\r\n        const data = response.data;\r\n        this.setState({\r\n          food: data,\r\n          totalprice: data.price\r\n        });\r\n        console.log(\"data fecth\");\r\n      }).catch(error => console.log(error.response));\r\n    // }\r\n  }\r\n\r\n  addCart(){\r\n    // if(this.state.quantity<1){\r\n    //   alert(\"Please Enter a valid quantity\")\r\n    // }\r\n    // else{\r\n    //   if(localStorage.getItem('token'!=null)){\r\n        Axios.post(`http://localhost:90/cart/`,\r\n          {\r\n            food: this.state.food._id,\r\n            totalprice: (this.state.totalprice * this.state.quantity),\r\n            notes: this.state.notes,\r\n            quanity: this.state.quantity\r\n          }, this.state.config)\r\n          .then((response) => {\r\n            console.log(response);\r\n            this.setState({\r\n              modal: !this.state.modal\r\n            })\r\n          }).catch((err) => console.log(err.response));\r\n    //   }\r\n    //   else{\r\n    //     alert(\"Please login to add cart\");\r\n    //   }\r\n    // }\r\n  }\r\n\r\n    render() {\r\n        return (\r\n           <div style={{backgroundColor:'OldLace'}} className=\"container\">\r\n              <span className='h3' style={{color:'DarkOrange'}}>ITEMS FOR YOU</span>\r\n            <Row>\r\n              {\r\n                this.state.popular.map((pop => \r\n                  <div key={pop._id} className=\"Col-md-4\" id=\"product\">\r\n                    <figure className=\"card card-product p-2\">\r\n                        <img alt=\"foodPic\" width='250' height='150' src={`http://localhost:90/pictures/${pop.foodimage}`}/>\r\n                        <figcaption className=\"info-wrap\">\r\n                          <legend className=\"title\">{pop.foodname}</legend>\r\n                          <h6 className=\"title\">Rs. {pop.price}</h6>\r\n                        </figcaption>\r\n                        <button className=\"btn btn-primary\" onClick={()=>this.handleFood(pop._id)}>Add to cart</button>\r\n                    </figure>\r\n                  </div>\r\n                  ))\r\n              }\r\n            </Row>\r\n           \r\n\r\n            <Modal isOpen={this.state.modal}>\r\n              <form>\r\n              <ModalHeader toggle={this.toggle}>Item : {this.state.food.foodname}<br/>\r\n                      Price : Rs.{this.state.food.price}\r\n              </ModalHeader>\r\n              <ModalBody>\r\n                <p>Add notes</p>\r\n                <textarea id=\"notes\" className=\"col-md-10\" value={this.state.notes} placeholder=\"Customize food as your taste\" name=\"notes\" onChange={this.handleChange}></textarea>\r\n                <hr/>\r\n                <p>Add quantity</p>\r\n                <input type=\"number\" pattern=\"[0-9]*\" name=\"quantity\" min={1} value={this.state.quantity} onChange={this.handleChange} min=\"1\" max=\"100\" />\r\n              </ModalBody>\r\n              <ModalFooter>\r\n                <Container id=\"ftr\">\r\n                  <button className=\"btn btn-lg btn-success\" id=\"btnbag\" onClick={() => this.addCart(this.state.food._id)}>Add to cart</button>\r\n                </Container>\r\n              </ModalFooter>\r\n              </form>\r\n            </Modal>\r\n          </div>\r\n        )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}