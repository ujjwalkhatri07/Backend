{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\food\\\\src\\\\Container\\\\User_dahboard\\\\Category.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Container } from 'reactstrap';\nimport Axios from 'axios';\nimport './category.css';\nimport { FiSearch } from \"react-icons/fi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Category extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchFood = (catId, catName) => {\n      Axios.get(`http://localhost:90/foods/searchByCat/${catId}`, this.state.config).then(response => {\n        const data = response.data;\n\n        if (data[0] != null) {\n          this.setState({\n            foods: response.data,\n            catName: 'Results for : ' + catName\n          });\n          console.log(this.state.catName);\n        } else {\n          this.setState({\n            catName: 'No results found for : ' + catName,\n            foods: []\n          });\n        }\n      });\n    };\n\n    this.handleFood = foodId => {\n      this.setState({\n        modal: !this.state.modal\n      });\n      Axios.get(`http://localhost:90/foods/${foodId}`, this.state.config).then(response => {\n        const data = response.data;\n        this.setState({\n          food: data,\n          totalprice: data.price\n        });\n        console.log(\"data fecth\");\n      }).catch(error => console.log(error.response));\n    };\n\n    this.searchbyName = e => {\n      if (e.target.value != null) {\n        console.log(e.target.value);\n        Axios.get(`http://localhost:90/foods/searchByName/${e.target.value}`, this.state.config).then(response => {\n          const data = response.data.food;\n          console.log(response.data.food);\n\n          if (data.length !== 0) {\n            this.setState({\n              foods: data,\n              searchedFoods: 'Results for : ' + e.target.value\n            });\n          } else {\n            this.setState({\n              foods: null,\n              searchedFoods: 'No Results found for : ' + e.target.value\n            });\n          }\n        }).catch(err => console.log(err.response));\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      category: [],\n      foods: [],\n      food: [],\n      catName: '',\n      notes: '',\n      quantity: '1',\n      totalprice: '',\n      searchedFoods: '',\n      modal: false,\n      config: {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  componentDidMount() {\n    Axios.get('http://localhost:90/foodCat', this.state.config).then(response => {\n      console.log(response.data);\n      this.setState({\n        category: response.data\n      });\n    }).catch(err => console.log(err.response));\n  }\n\n  addCart() {\n    var token = localStorage.getItem('token');\n\n    if (token != null) {\n      //   if(localStorage.getItem('token'!=null)){\n      Axios.post(`http://localhost:90/cart/`, {\n        food: this.state.food._id,\n        totalprice: this.state.totalprice * this.state.quantity,\n        notes: this.state.notes,\n        quanity: this.state.quantity\n      }, this.state.config).then(response => {\n        console.log(response);\n        alert(\"added to cart\");\n        this.setState({\n          modal: !this.state.modal\n        });\n      }).catch(err => console.log(err.response));\n    } else {\n      alert(\"Please login to add cart\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 12,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"What would you like to order ?\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n                style: {\n                  border: 'none',\n                  borderBottom: '2px solid #1ABC9C'\n                },\n                type: \"text\",\n                name: \"search\",\n                id: \"search\",\n                placeholder: \"search food...\",\n                onChange: this.searchbyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FiSearch, {\n                style: {\n                  fontSize: \"30px\",\n                  opacity: 0.6\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.category.map(catIcon => /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => this.searchFood(catIcon._id, catIcon.category),\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"catPic\",\n                style: {\n                  width: '40px',\n                  height: '40px'\n                },\n                className: \"categoryList\",\n                src: `http://localhost:90/pictures/${catIcon.catImg}`,\n                id: \"catImg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-center\",\n                children: catIcon.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this)]\n            }, catIcon._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'FireBrick'\n          },\n          children: this.state.catName ? this.state.catName : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'FireBrick'\n          },\n          className: \"text-left\",\n          children: this.state.searchedFoods ? this.state.searchedFoods : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.foods != null ? this.state.foods.map(food => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Col-md-4\",\n            id: \"product\",\n            children: /*#__PURE__*/_jsxDEV(\"figure\", {\n              className: \"card card-product p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"foodPic\",\n                width: \"250\",\n                height: \"150\",\n                src: `http://localhost:90/pictures/${food.foodimage}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"figcaption\", {\n                class: \"info-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                  className: \"title\",\n                  children: food.foodname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"title\",\n                  children: [\"Rs. \", food.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"btn btn-primary\",\n                onClick: () => this.handleFood(food._id),\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this)) : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modal,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.toggle,\n          children: [\"Item : \", this.state.food.foodname, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 88\n          }, this), \"Price : Rs.\", this.state.food.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"notes\",\n            className: \"col-md-10\",\n            value: this.state.notes,\n            placeholder: \"Customize food as your taste\",\n            name: \"notes\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            pattern: \"[0-9]*\",\n            name: \"quantity\",\n            min: 1,\n            value: this.state.quantity,\n            onChange: this.handleChange,\n            min: \"1\",\n            max: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            id: \"ftr\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-lg btn-success\",\n              id: \"btnbag\",\n              onClick: () => this.addCart(this.state.food._id),\n              children: \"Add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Dell/Downloads/food/src/Container/User_dahboard/Category.js"],"names":["React","Component","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Container","Axios","FiSearch","Category","constructor","props","searchFood","catId","catName","get","state","config","then","response","data","setState","foods","console","log","handleFood","foodId","modal","food","totalprice","price","catch","error","searchbyName","e","target","value","length","searchedFoods","err","handleChange","name","category","notes","quantity","headers","localStorage","getItem","toggle","bind","componentDidMount","addCart","token","post","_id","quanity","alert","render","border","borderBottom","fontSize","opacity","map","catIcon","cursor","width","height","catImg","color","foodimage","foodname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Row,Col,Modal,ModalHeader,ModalBody,ModalFooter,Container} from  'reactstrap';\r\nimport Axios from 'axios'\r\nimport   './category.css';\r\nimport { FiSearch } from \"react-icons/fi\";\r\n\r\nexport default class Category extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            category:[],  \r\n            foods:[],\r\n            food:[],\r\n            catName:'',\r\n            notes:'',\r\n            quantity:'1',\r\n            totalprice:'',\r\n            searchedFoods:'',\r\n            modal:false,\r\n            config: {\r\n                headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\r\n            },\r\n        }\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    toggle(){\r\n        this.setState({\r\n          modal:!this.state.modal\r\n        })\r\n    }  \r\n\r\n    componentDidMount() {\r\n        Axios.get('http://localhost:90/foodCat', this.state.config)\r\n          .then((response) => {\r\n            console.log(response.data)\r\n            this.setState({\r\n              category: response.data\r\n            })\r\n          })\r\n          .catch((err) => console.log(err.response));\r\n    }\r\n\r\n    searchFood=(catId, catName)=>{\r\n       Axios.get(`http://localhost:90/foods/searchByCat/${catId}`, this.state.config)\r\n        .then((response)=>{\r\n            const data=response.data\r\n            if(data[0]!=null){\r\n                this.setState({\r\n                    foods:response.data,\r\n                    catName:'Results for : '+ catName\r\n                })\r\n                console.log(this.state.catName)\r\n            }\r\n            else{\r\n                this.setState({\r\n                    catName :'No results found for : '+ catName,\r\n                    foods:[]\r\n                })   \r\n            }\r\n        })\r\n    }\r\n\r\n    handleFood = (foodId) => {\r\n        this.setState({\r\n          modal: !this.state.modal\r\n        })\r\n        Axios.get(`http://localhost:90/foods/${foodId}`, this.state.config)\r\n          .then((response) => {\r\n            const data = response.data;\r\n            this.setState({\r\n              food: data,\r\n              totalprice: data.price\r\n            });\r\n            console.log(\"data fecth\");\r\n          }).catch(error => console.log(error.response));\r\n    }\r\n\r\n    addCart(){\r\n        var token=localStorage.getItem('token')\r\n        if(token!=null){\r\n        //   if(localStorage.getItem('token'!=null)){\r\n            \r\n            Axios.post(`http://localhost:90/cart/`,\r\n              {\r\n                food: this.state.food._id,\r\n                totalprice: (this.state.totalprice * this.state.quantity),\r\n                notes: this.state.notes,\r\n                quanity: this.state.quantity\r\n              }, this.state.config)\r\n              .then((response) => {\r\n                console.log(response);\r\n                alert(\"added to cart\");\r\n                this.setState({\r\n                  modal: !this.state.modal\r\n            \r\n                }\r\n                \r\n                )\r\n              }).catch((err) => console.log(err.response));\r\n          }\r\n        else{\r\n            alert(\"Please login to add cart\");\r\n          }\r\n    }\r\n\r\n    searchbyName=(e)=>{\r\n        if(e.target.value!=null){\r\n            console.log(e.target.value)\r\n            Axios.get(`http://localhost:90/foods/searchByName/${e.target.value}`, this.state.config)\r\n            .then((response)=>{\r\n                const data = response.data.food;\r\n                console.log(response.data.food)\r\n                if(data.length!==0){\r\n                    this.setState({\r\n                        foods:data,\r\n                        searchedFoods:'Results for : '+ e.target.value\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        foods:null,\r\n                        searchedFoods:'No Results found for : '+e.target.value\r\n                    })\r\n                }\r\n            }).catch((err)=>console.log(err.response))\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n          [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <Row>\r\n                        <Col md={12}>\r\n                            <span>What would you like to order ?{' '}\r\n                                <input style={{border: 'none',\r\n                                    borderBottom: '2px solid #1ABC9C'}} \r\n                                    type=\"text\" name=\"search\" id=\"search\" placeholder=\"search food...\" \r\n                                    onChange={this.searchbyName}/>\r\n                                <FiSearch style={{fontSize:\"30px\", opacity:0.6}}/>\r\n                            </span>\r\n                        </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    \r\n                    <Row>\r\n                        {this.state.category.map(catIcon =>\r\n                        <Col>\r\n                            <div key={catIcon._id} onClick={()=>this.searchFood(catIcon._id, catIcon.category)} style={{cursor:'pointer'}}>\r\n                                <img alt=\"catPic\" \r\n                                    style={{ width:'40px', height:'40px'}}\r\n                                    className=\"categoryList\"\r\n                                    src ={`http://localhost:90/pictures/${catIcon.catImg}`} id=\"catImg\"/> \r\n                                <h6 className=\"text-center\">{catIcon.category}</h6>\r\n                            </div>\r\n                        </Col>\r\n                        )}\r\n                    </Row>    \r\n                </div>\r\n                <hr/>\r\n                <div className=\"container\">\r\n                    <h3 style={{color:'FireBrick'}}>{this.state.catName?this.state.catName:''}</h3>\r\n                    <h3 style={{color:'FireBrick'}} className=\"text-left\">{this.state.searchedFoods?this.state.searchedFoods:''}</h3>\r\n                    <Row>\r\n                        {this.state.foods!=null ?                     \r\n                        this.state.foods.map((food => \r\n                            <div className=\"Col-md-4\" id=\"product\">\r\n                                <figure className=\"card card-product p-2\">\r\n                                    <img alt=\"foodPic\" width='250' height='150' src={`http://localhost:90/pictures/${food.foodimage}`}/>\r\n                                    <figcaption class=\"info-wrap\">\r\n                                        <legend className=\"title\">{food.foodname}</legend>\r\n                                        <h6 className=\"title\">Rs. {food.price}</h6>\r\n                                    </figcaption>\r\n                                    <button class=\"btn btn-primary\" onClick={()=>this.handleFood(food._id)}>Add to cart</button>\r\n                                </figure>\r\n                            </div>\r\n                            )):''}\r\n                    </Row>\r\n                </div>\r\n\r\n                <Modal isOpen={this.state.modal}>\r\n                    <ModalHeader toggle={this.toggle}>Item : {this.state.food.foodname}<br/>\r\n                            Price : Rs.{this.state.food.price}\r\n                    </ModalHeader>\r\n                    <ModalBody>\r\n                        <p>Add notes</p>\r\n                        <textarea id=\"notes\" className=\"col-md-10\" value={this.state.notes} placeholder=\"Customize food as your taste\" name=\"notes\" onChange={this.handleChange}></textarea>\r\n                        <hr/>\r\n                        <p>Add quantity</p>\r\n                        <input type=\"number\" pattern=\"[0-9]*\" name=\"quantity\" min={1} value={this.state.quantity} onChange={this.handleChange} min=\"1\" max=\"100\" />\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Container id=\"ftr\">\r\n                        <button className=\"btn btn-lg btn-success\" id=\"btnbag\" onClick={() => this.addCart(this.state.food._id)}>Add to cart</button>\r\n                        </Container>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}