{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\food\\\\src\\\\Container\\\\FoodCategory.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, FormGroup, Label } from 'reactstrap';\nimport Axios from 'axios';\nimport { MdAdd } from \"react-icons/md\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class ListFoods extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.toggle1 = () => {\n      this.setState({\n        modal1: !this.state.modal1\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.deleteCat = catId => {\n      Axios.delete(`http://localhost:90/foodCat/${catId}`, this.state.config).then(response => {\n        window.location.reload(false);\n      }).catch(err => console.log(err.response));\n    };\n\n    this.handleEdit = catId => {\n      this.setState({\n        modal: !this.state.modal\n      });\n      Axios.get(`http://localhost:90/foodCat/${catId}`, this.state.config).then(response => {\n        const data = response.data;\n        this.setState({\n          category: data,\n          imgPreview: `http://localhost:90/pictures/${data.catImg}`\n        });\n        console.log(this.state.imgPreview);\n      }).catch(error => console.log(error.response));\n    };\n\n    this.handleupdate = e => {\n      this.setState({\n        category: { ...this.state.category,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.handleFileSelect = e => {\n      this.setState({\n        selectedFile: e.target.files[0],\n        imgPreview: URL.createObjectURL(e.target.files[0])\n      });\n    };\n\n    this.addCat = e => {\n      e.preventDefault();\n      const data = new FormData();\n      data.append('imageFile', this.state.selectedFile);\n      Axios.post('http://localhost:90/upload', data, this.state.config).then(response => {\n        this.setState({\n          catImg: response.data.filename\n        });\n        Axios.post('http://localhost:90/foodCat', {\n          category: this.state.category,\n          catImg: this.state.catImg\n        }, this.state.config).then(response => {\n          console.log(response);\n          alert(\"Category added successfully\");\n          window.location.reload();\n        }).catch(err => console.log(err.response));\n      }).catch(err => console.log(err.response));\n    };\n\n    this.updateCat = catId => {\n      const data = new FormData();\n      data.append('imageFile', this.state.selectedFile);\n      Axios.post('http://localhost:90/upload', data, this.state.config).then(response => {\n        this.setState({\n          catImg: response.data.filename\n        });\n        Axios.put(`http://localhost:90/foodCat/${catId}`, {\n          category: this.state.category.category,\n          catImg: this.state.catImg\n        }, this.state.config).then(response => {\n          alert(\"Category updated successfully\");\n          console.log(response.data);\n          window.location.reload();\n        }).catch(err => console.log(err.response));\n      }).catch(err => console.log(err.response));\n    };\n\n    this.state = {\n      categories: [],\n      category: [],\n      modal: false,\n      modal1: false,\n      imgPreview: null,\n      selectedFile: null,\n      config: {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  componentDidMount() {\n    Axios.get('http://localhost:90/foodCat', this.state.config).then(response => {\n      const data = response.data;\n      this.setState({\n        categories: data\n      });\n      console.log(data);\n    }).catch(err => console.log(err.response));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Add Food Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              style: {\n                float: \"right\"\n              },\n              onClick: this.toggle1,\n              children: [/*#__PURE__*/_jsxDEV(MdAdd, {\n                style: {\n                  fontSize: \"30px\",\n                  color: \"white\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this), \"Add Food Category\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Category Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Category Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [this.state.categories.map(cat => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: cat.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"catIcon\",\n                  src: `http://localhost:90/pictures/${cat.catImg}`,\n                  style: {\n                    height: \"50px\",\n                    width: \"50px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-primary\",\n                  onClick: () => this.handleEdit(cat._id),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: () => this.deleteCat(cat._id),\n                  className: \"btn btn-danger\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)]\n            }, cat._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Modal, {\n              isOpen: this.state.modal1,\n              children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                toggle: this.toggle1,\n                children: /*#__PURE__*/_jsxDEV(\"legend\", {\n                  children: \"Add Food Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    placeholder: \"Enter category name\",\n                    name: \"category\",\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  style: {\n                    display: \"ruby\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"btn btn-outline-info float-left\",\n                    htmlFor: \"filePicker\",\n                    children: \"Upload image for food category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"filePicker\",\n                    style: {\n                      visibility: \"hidden\"\n                    },\n                    type: \"file\",\n                    name: \"catImg\",\n                    onChange: this.handleFileSelect\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Image Preview\",\n                    style: {\n                      display: 'block',\n                      border: '1px solid gray',\n                      width: \"200px\",\n                      height: \"200px\",\n                      textAlign: 'center'\n                    },\n                    width: \"200\",\n                    src: this.state.imgPreview\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger btn-block\",\n                  id: \"btnbag\",\n                  onClick: this.addCat,\n                  children: \"Add Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              isOpen: this.state.modal,\n              children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                toggle: this.toggle,\n                children: /*#__PURE__*/_jsxDEV(\"legend\", {\n                  children: \"Update Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 51\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: 'DarkSlateGray',\n                      fontSize: 18\n                    },\n                    children: \" Category Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"category\",\n                    className: \"form-control\",\n                    value: this.state.category.category,\n                    onChange: this.handleupdate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Image Preview\",\n                    width: \"200\",\n                    src: this.state.imgPreview\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 89\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: 'DarkSlateGray',\n                      fontSize: 18\n                    },\n                    children: \"Choose picture for category :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"file\",\n                    name: \"foodimage\",\n                    onChange: this.handleFileSelect\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn btn-primary btn-block\",\n                  onClick: () => this.updateCat(this.state.category._id),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Dell/Downloads/food/src/Container/FoodCategory.js"],"names":["React","Component","Table","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","FormGroup","Label","Axios","MdAdd","ListFoods","constructor","props","toggle","setState","modal","state","toggle1","modal1","handleChange","e","target","name","value","deleteCat","catId","delete","config","then","response","window","location","reload","catch","err","console","log","handleEdit","get","data","category","imgPreview","catImg","error","handleupdate","handleFileSelect","selectedFile","files","URL","createObjectURL","addCat","preventDefault","FormData","append","post","filename","alert","updateCat","put","categories","headers","localStorage","getItem","bind","componentDidMount","render","float","fontSize","color","map","cat","height","width","_id","display","visibility","border","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Table, Button, Modal, ModalHeader, ModalBody, ModalFooter,Input, FormGroup, Label } from 'reactstrap';\r\nimport Axios from 'axios'\r\n\r\nimport { MdAdd } from \"react-icons/md\";\r\n\r\nexport default class ListFoods extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          categories: [],\r\n          category:[],\r\n          modal : false,\r\n          modal1:false,\r\n          imgPreview:null,\r\n          selectedFile: null,\r\n          config: {\r\n            headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\r\n          },\r\n        }\r\n        this.toggle = this.toggle.bind(this);\r\n    } \r\n             \r\n    componentDidMount() {\r\n      Axios.get('http://localhost:90/foodCat', this.state.config)\r\n        .then((response)=>{\r\n            const data = response.data;\r\n            this.setState({categories:data});\r\n            console.log(data)\r\n        }).catch(err=>console.log(err.response));\r\n    }\r\n\r\n    toggle=()=>{ \r\n      this.setState({\r\n        modal: !this.state.modal\r\n    })}\r\n\r\n    toggle1=()=>{ \r\n      this.setState({\r\n        modal1: !this.state.modal1\r\n    })}\r\n          \r\n    handleChange = (e)  =>{\r\n      this.setState({\r\n        [e.target.name]: e.target.value \r\n      })\r\n    }\r\n\r\n    deleteCat = (catId) => {\r\n      Axios.delete(`http://localhost:90/foodCat/${catId}`, this.state.config)\r\n      .then((response) => {\r\n        window.location.reload(false)\r\n      }).catch(err=>console.log(err.response));\r\n    }\r\n\r\n    handleEdit = (catId) => {\r\n      this.setState({\r\n        modal: !this.state.modal\r\n      });\r\n      Axios.get(`http://localhost:90/foodCat/${catId}`,this.state.config)\r\n      .then((response)=>{\r\n        const data = response.data;\r\n          this.setState({\r\n            category: data,\r\n            imgPreview:`http://localhost:90/pictures/${data.catImg}`\r\n          });    \r\n        console.log(this.state.imgPreview)\r\n        })\r\n      .catch(error => console.log(error.response));\r\n    }\r\n\r\n    handleupdate = (e) =>{\r\n      this.setState({\r\n        category: { ...this.state.category, [e.target.name]: e.target.value }\r\n      })\r\n    }\r\n\r\n    handleFileSelect  = (e) =>{\r\n      this.setState({\r\n          selectedFile: e.target.files[0],\r\n          imgPreview:URL.createObjectURL(e.target.files[0])\r\n      })\r\n    }\r\n\r\n    addCat = (e) => {\r\n      e.preventDefault();\r\n        const data = new FormData()\r\n        data.append('imageFile', this.state.selectedFile)\r\n        Axios.post('http://localhost:90/upload', data, this.state.config)\r\n            .then((response) => {\r\n                this.setState({\r\n                    catImg: response.data.filename\r\n                })\r\n            Axios.post('http://localhost:90/foodCat',\r\n            {\r\n              category:this.state.category,\r\n              catImg:this.state.catImg\r\n            }, this.state.config)\r\n                .then((response)=>{\r\n                    console.log(response)\r\n                    alert(\"Category added successfully\")\r\n                    window.location.reload()\r\n                }).catch((err)=>console.log(err.response))\r\n            }).catch((err) => console.log(err.response))\r\n    }\r\n     //update category\r\n    updateCat = (catId) => {\r\n      const data = new FormData()\r\n      data.append('imageFile', this.state.selectedFile)\r\n      Axios.post('http://localhost:90/upload', data, this.state.config)\r\n        .then((response) => {\r\n          this.setState({\r\n            catImg: response.data.filename\r\n          })\r\n        Axios.put(`http://localhost:90/foodCat/${catId}`, \r\n        { \r\n          category: this.state.category.category,\r\n          catImg:this.state.catImg\r\n        }, this.state.config)\r\n        .then((response) => {\r\n          alert(\"Category updated successfully\")\r\n          console.log(response.data)\r\n          window.location.reload();\r\n        })\r\n        .catch((err)=>console.log(err.response))\r\n        }).catch((err) => console.log(err.response))\r\n    }\r\n    \r\n    render() \r\n    {\r\n        return (\r\n        <>\r\n   \r\n          <div className=\"container\">\r\n            <br/>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <h1>Add Food Category</h1>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                  <Button color='primary' style={{float:\"right\"}} onClick={this.toggle1}>\r\n                    <MdAdd style={{fontSize:\"30px\", color:\"white\"}} />\r\n                    Add Food Category\r\n                  </Button>\r\n              </div>\r\n            </div>\r\n            <Table hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Category Name</th>\r\n                <th>Category Image</th>\r\n                <th>Update</th>\r\n                <th>Delete</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                this.state.categories.map(cat => \r\n                <tr key={cat._id}>\r\n                  <td>{cat.category}</td>\r\n                  <td>\r\n                    <img alt=\"catIcon\" src={`http://localhost:90/pictures/${cat.catImg}`} style={{height: \"50px\",width:\"50px\"}}/>\r\n                  </td>\r\n                  <td>\r\n                    <a className=\"btn btn-primary\" onClick={() => this.handleEdit(cat._id)}>Update</a>\r\n                  </td>\r\n                  <td>\r\n                    <a onClick={() => this.deleteCat(cat._id)} className=\"btn btn-danger\">Delete</a>\r\n                  </td>\r\n                </tr>\r\n                )\r\n              }\r\n\r\n              <Modal isOpen={this.state.modal1}>\r\n                <ModalHeader toggle={this.toggle1}><legend>Add Food Category</legend></ModalHeader>\r\n                <ModalBody>\r\n                  <FormGroup>\r\n                    <Input type=\"text\" placeholder=\"Enter category name\" name=\"category\" onChange={this.handleChange} />\r\n                  </FormGroup>\r\n                  <FormGroup style={{display: \"ruby\"}}>\r\n                    <Label className=\"btn btn-outline-info float-left\" htmlFor=\"filePicker\">Upload image for food category</Label>\r\n                    <Input id=\"filePicker\" style={{visibility:\"hidden\"}} type='file' name='catImg' onChange={this.handleFileSelect}/>\r\n                    <img alt=\"Image Preview\"\r\n                      style={{display:'block', border: '1px solid gray', width:\"200px\", height:\"200px\", textAlign:'center'}} \r\n                      width='200' src={this.state.imgPreview}\r\n                    />\r\n                  </FormGroup>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-danger btn-block\" id=\"btnbag\" onClick={this.addCat}>Add Category</button>\r\n                </ModalFooter>\r\n              </Modal>\r\n    \r\n              <Modal isOpen={this.state.modal}>\r\n                <ModalHeader toggle={this.toggle}><legend>Update Category</legend></ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"form-group\">\r\n                      <label style={{color:'DarkSlateGray', fontSize:18}}> Category Name</label>\r\n                      <input type=\"text\" name=\"category\" className=\"form-control\" \r\n                        value ={this.state.category.category} onChange={this.handleupdate}/>\r\n\r\n                      <img alt=\"Image Preview\" width='200' src={this.state.imgPreview}/><br/>\r\n                      <label style={{color:'DarkSlateGray', fontSize:18}}>Choose picture for category :</label>\r\n                      <Input type='file' name='foodimage' onChange={this.handleFileSelect}/>\r\n                      \r\n                    </div>\r\n                    <Button className=\"btn btn-primary btn-block\" \r\n                      onClick={() => this.updateCat(this.state.category._id)}>Update</Button>   \r\n                </ModalBody>\r\n                <ModalFooter></ModalFooter>\r\n              </Modal>\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n        </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}