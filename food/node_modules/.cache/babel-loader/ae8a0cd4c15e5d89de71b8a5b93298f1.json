{"ast":null,"code":"import _defineProperty from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Dell/Downloads/Agile/food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Label,FormGroup,Button,Input}from'reactstrap';import Axios from'axios';import ListResturant from'./ListResturant';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddRestuarant=/*#__PURE__*/function(_Component){_inherits(AddRestuarant,_Component);var _super=_createSuper(AddRestuarant);function AddRestuarant(props){var _this;_classCallCheck(this,AddRestuarant);_this=_super.call(this,props);_this.handleFileSelect=function(e){_this.setState({selectedFile:e.target.files[0],imgPreview:URL.createObjectURL(e.target.files[0])});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleFoodChange=function(e){_this.setState({fooditem:e.target.value});};_this.addRest=function(){var data=new FormData();data.append('imageFile',_this.state.selectedFile);Axios.post('http://localhost:90/upload',data,_this.state.config).then(function(response){_this.setState({res_image:response.data.filename});Axios.post('http://localhost:90/resturants',_this.state,_this.state.config).then(function(response){alert(\"Restaurant added successfully\");console.log(response.data);}).catch(function(err){return console.log(err.response);});}).catch(function(err){return console.log(err.response);});};_this.state={resturant_name:null,resturant_address:null,fooditem:null,res_image:null,food:[],imgPreview:null,config:{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}},selectedFile:null};_this.handleFileSelect=_this.handleFileSelect.bind(_assertThisInitialized(_this));return _this;}_createClass(AddRestuarant,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Resturant\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"resturantname\",name:\"resturant_name\",value:this.state.resturant_name,onChange:this.handleChange,placeholder:\"Enter restaurant name\",required:true})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"resturant_address\",name:\"resturant_address\",value:this.state.resturant_address,onChange:this.handleChange,placeholder:\"Enter restaurant address\",required:true})}),/*#__PURE__*/_jsxs(FormGroup,{style:{display:\"ruby\"},children:[/*#__PURE__*/_jsx(Label,{className:\"btn btn-outline-info float-left\",htmlFor:\"filePicker\",children:\"Upload image for restaurant\"}),/*#__PURE__*/_jsx(Input,{id:\"filePicker\",style:{visibility:\"hidden\"},type:\"file\",name:\"res_image\",onChange:this.handleFileSelect})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"danger\",style:({width:200},{marginTop:2}),onClick:this.addRest,block:true,children:\"Add Resturant\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 flex\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Image Preview\",style:{display:'block',border:'1px solid gray',width:\"200px\",textAlign:'center'},src:this.state.imgPreview}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#34495E'},children:\"View Restaurant\"}),/*#__PURE__*/_jsx(ListResturant,{})]})});}}]);return AddRestuarant;}(Component);export{AddRestuarant as default};","map":{"version":3,"sources":["C:/Users/Dell/Downloads/Agile/food/src/Container/Restaurant.js"],"names":["React","Component","Label","FormGroup","Button","Input","Axios","ListResturant","AddRestuarant","props","handleFileSelect","e","setState","selectedFile","target","files","imgPreview","URL","createObjectURL","handleChange","name","value","handleFoodChange","fooditem","addRest","data","FormData","append","state","post","config","then","response","res_image","filename","alert","console","log","catch","err","resturant_name","resturant_address","food","headers","localStorage","getItem","bind","display","visibility","width","marginTop","border","textAlign","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Label, FormGroup, Button, Input } from 'reactstrap'\r\nimport Axios from 'axios'\r\nimport ListResturant from './ListResturant'\r\n\r\n\r\nexport default class AddRestuarant extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n       resturant_name: null,\r\n       resturant_address: null,\r\n       fooditem: null,\r\n       res_image: null,\r\n       food : [],\r\n       imgPreview:null,\r\n       config: {\r\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\r\n    },\r\n    selectedFile: null,\r\n    }\r\n    this.handleFileSelect = this.handleFileSelect.bind(this)\r\n  }\r\n\r\n    handleFileSelect = (e) => {\r\n      this.setState({\r\n        selectedFile: e.target.files[0],\r\n        imgPreview:URL.createObjectURL(e.target.files[0])\r\n      })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n      this.setState({\r\n        [e.target.name]: e.target.value\r\n      })\r\n    }\r\n\r\n    handleFoodChange = (e) => {\r\n      this.setState({\r\n        fooditem : e.target.value\r\n      });\r\n    }\r\n\r\n    addRest = () => {\r\n      const data = new FormData();\r\n      data.append('imageFile',this.state.selectedFile)\r\n      Axios.post('http://localhost:90/upload', data, this.state.config)\r\n      .then((response) => {\r\n          this.setState({\r\n              res_image: response.data.filename\r\n          })\r\n          Axios.post('http://localhost:90/resturants',this.state,this.state.config)\r\n          .then((response) => {\r\n            alert(\"Restaurant added successfully\");\r\n            console.log(response.data)\r\n          })\r\n          .catch((err) => console.log(err.response))\r\n      }).catch((err) => console.log(err.response))\r\n    }\r\n      \r\n\r\n    render() {\r\n      return (\r\n        <>\r\n     \r\n        <div className=\"container\">\r\n          <h2>Add Resturant</h2><hr/>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <form className=\"p-3\">\r\n                <FormGroup>\r\n                  <Input type='text' id=\"resturantname\" name='resturant_name' value={this.state.resturant_name}\r\n                    onChange={this.handleChange} placeholder=\"Enter restaurant name\" required/>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Input type='text' id='resturant_address' name='resturant_address' value={this.state.resturant_address}\r\n                    onChange={ this.handleChange} placeholder=\"Enter restaurant address\" required/>\r\n                    </FormGroup>\r\n                  <FormGroup style={{display: \"ruby\"}}>\r\n                    <Label className=\"btn btn-outline-info float-left\" htmlFor=\"filePicker\">Upload image for restaurant</Label>\r\n                    <Input id=\"filePicker\" style={{visibility:\"hidden\"}} type='file' name='res_image' onChange={this.handleFileSelect}/>\r\n                  </FormGroup>\r\n                  <Button type=\"submit\" color='danger' style={{width:200},{marginTop:2}} onClick={this.addRest} block>Add Resturant</Button>\r\n              </form>\r\n            </div>\r\n            <div className=\"col-md-4 flex\">\r\n              <img alt=\"Image Preview\" \r\n              style={{display:'block', border: '1px solid gray', width:\"200px\", textAlign:'center'}} \r\n              src={this.state.imgPreview}/><br/>\r\n            </div>\r\n          </div>\r\n              <hr></hr>\r\n              <h2 style={{color:'#34495E'}}>View Restaurant</h2>\r\n            <ListResturant />\r\n          </div>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n\r\n"]},"metadata":{},"sourceType":"module"}